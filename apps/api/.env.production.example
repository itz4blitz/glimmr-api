# Production Environment Configuration for Glimmr API

# Database Configuration
DATABASE_URL=postgresql://username:password@your-db-host:5432/glimmr_prod
DATABASE_HOST=your-db-host
DATABASE_PORT=5432
DATABASE_NAME=glimmr_prod
DATABASE_USERNAME=username
DATABASE_PASSWORD=password
DATABASE_SSL=true
DATABASE_MAX_CONNECTIONS=20

# Redis Configuration (for job queues)
REDIS_URL=redis://your-redis-host:6379
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# Storage Configuration - DigitalOcean Spaces (Production)
STORAGE_TYPE=spaces
STORAGE_SPACES_ENDPOINT=https://nyc3.digitaloceanspaces.com
STORAGE_SPACES_BUCKET=your-glimmr-bucket
STORAGE_SPACES_ACCESS_KEY_ID=your-spaces-access-key
STORAGE_SPACES_SECRET_ACCESS_KEY=your-spaces-secret-key
STORAGE_SPACES_REGION=nyc3

# API Configuration
PORT=3000
NODE_ENV=production
API_VERSION=v1
API_PREFIX=api

# CORS Configuration
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Bull Board Configuration (Job Dashboard)
BULL_BOARD_ENABLED=true
BULL_BOARD_PATH=/admin/queues
BULL_BOARD_USERNAME=admin
BULL_BOARD_PASSWORD=your-secure-password
BULL_BOARD_CORS_ENABLED=false

# Security
JWT_SECRET=your-very-secure-jwt-secret-key-here

# Rate Limiting Configuration
# Default rate limiting (for regular API endpoints)
RATE_LIMIT_WINDOW_MS=900000          # 15 minutes window
RATE_LIMIT_MAX_REQUESTS=100          # Max requests per window

# Expensive operations rate limiting (for exports, analytics, job triggers)
RATE_LIMIT_MAX_REQUESTS_EXPENSIVE=10 # Max expensive requests per window

# Redis-based rate limiting enabled automatically for distributed systems

# Patient Rights Advocate API Configuration
PRA_API_BASE_URL=https://pts.patientrightsadvocatefiles.org
PRA_API_RATE_LIMIT=100
PRA_API_RATE_WINDOW=180000

# Job Configuration
JOB_CONCURRENCY=5
JOB_MAX_ATTEMPTS=3
JOB_BACKOFF_DELAY=30000

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
